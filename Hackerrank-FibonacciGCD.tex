%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Plantilla de Latex para trabajos de Matemáticas.
%
% Autor: Andrés Herrera Poyatos (https://github.com/andreshp) 
%
% La plantilla se encuentra adaptada al español.
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%----------------------------------------------------------------------------------------
%	PAQUETES Y OTRAS CONFIGURACIONES DEL DOCUMENTO
%----------------------------------------------------------------------------------------

\RequirePackage[l2tabu, orthodox]{nag}  % Produce un warnig en caso de usar un comando obsoleto.

\documentclass{article}

% Paquetes para el diseño de página:
\usepackage{fancyhdr}                   % Utilizado para hacer títulos propios.
\usepackage{lastpage}                   % Referencia a la última página. Utilizado para el pie de página.
\usepackage{extramarks}                 % Marcas extras. Utilizado en pie de página y cabecera.
\usepackage[parfill]{parskip}           % Crea una nueva línea entre párrafos.
\usepackage[margin=3cm]{geometry}       % Asigna la "geometría" de las páginas.
\usepackage{lipsum}                     % Texto dummy. Quitar en el documento final.

% Fuente utilizada. Elija uno de ellos:
\usepackage{courier}                    % Fuente Courier.
%\usepackage{fourier}                   % Fuente Adobe Utopia.
\usepackage{microtype}                  % Mejora la letra final de cara al lector.

% Paquetes para imágenes:
\usepackage[usenames,dvipsnames]{color} % Permite crear colores propios. Utilizado para el bg de Minted.
\usepackage{graphicx}                   % Utilizado para insertar gráficos.

% Paquetes para matemáticas:                     
\usepackage{amsmath,amsthm,verbatim,amssymb,amsfonts,amscd} % Teoremas, fuentes y símbolos.

% Paquetes para tablas:
\usepackage{booktabs}

% Paquetes para adaptar Látex al Español:
\usepackage[spanish,es-noquoting, es-tabla, es-lcroman]{babel} % Cambia 
\usepackage[utf8]{inputenc}                                    % Permite los acentos.
\selectlanguage{spanish}                                       % Selecciono como lenguaje el Español.

% Estilo de página:
\pagestyle{fancy}                      % fancy
\fancyhf{}                             % Limpia la cabecera y el pie de página.
\geometry{left=3cm,right=3cm,top=3cm,bottom=3cm,headheight=1cm,headsep=0.5cm} % Márgenes y cabecera.

% Espacios en el documento:
\linespread{1.1}                        % Espacio entre líneas.
\setlength\parindent{0pt}               % Selecciona la indentación para cada inicio de párrafo.

% Cabecera del documento:
\renewcommand\headrule{                 % Se ajusta la línea de la cabecera.
\begin{minipage}{1\textwidth}           % Elija una de las siguientes líneas:
%    \hrule width \hsize \kern 1mm \hrule width \hsize height 2pt 
    \hrule width \hsize 
\end{minipage}
}
\lhead{\autor}                          % Parte izquierda.
\chead{}                                % Centro.
\rhead{\titulo}                         % Parte derecha.

% Pie de página del documento:
\renewcommand\footrule{                                 % Se ajusta la línea del pie de página.
\begin{minipage}{1\textwidth}                           % Elija una de las siguientes líneas:
%    \hrule width \hsize height 2pt \kern 1mm \hrule width \hsize   
    \hrule width \hsize   
\end{minipage}\par
}
\lfoot{}                                                 % Parte izquierda.
\cfoot{}                                                 % Centro.
\rfoot{Página\ \thepage\ de\ \protect\pageref{LastPage}} % Parte derecha.

%----------------------------------------------------------------------------------------
%	ESTRUCTURA DEL DOCUMENTO
%----------------------------------------------------------------------------------------

\setcounter{secnumdepth}{2}                   % Se enumeran las secciones con profundidad 2.

%----------------------------------------------------------------------------------------
%	MATEMÁTICAS
%----------------------------------------------------------------------------------------

% Nuevo estilo para teoremas
\newtheoremstyle{theorem-style} % Nombre del estilo
  {3pt}                % Espacio por encima
  {3pt}                % Espacio por debajo
  {\itshape}                   % Fuente del cuerpo
  {}                   % Identación: vacío= sin identación, \parindent = identación del parráfo
  {\bf}                % Fuente para la cabecera
  {.}                  % Puntuación tras la cabecera
  {.5em}               % Espacio tras la cabecera: { } = espacio usal entre palabras, \newline = nueva línea
  {}                   % Especificación de la cabecera (si se deja vaía implica 'normal')

% Nuevo estilo para teoremas
\newtheoremstyle{example-style} % Nombre del estilo
  {3pt}                % Espacio por encima
  {3pt}                % Espacio por debajo
  {}                   % Fuente del cuerpo
  {}                   % Identación: vacío= sin identación, \parindent = identación del parráfo
  {\scshape}                % Fuente para la cabecera
  {:}                  % Puntuación tras la cabecera
  {.5em}               % Espacio tras la cabecera: { } = espacio usal entre palabras, \newline = nueva línea
  {}                   % Especificación de la cabecera (si se deja vaía implica 'normal')

% Teoremas:
\theoremstyle{theorem-style}  % Otras posibilidades: plain (por defecto), definition, remark
\newtheorem{theorem}{Teorema}[section]  % [section] indica que el contador se reinicia cada sección
\newtheorem{corollary}[theorem]{Corolario} % [theorem] indica que comparte el contador con theorem
\newtheorem{lemma}[theorem]{Lema}
\newtheorem{proposition}[theorem]{Proposición}
% Definiciones, notas, conjeturas
\theoremstyle{definition}
\newtheorem{definition}{Definición}[section]
\newtheorem{conjecture}{Conjetura}[section] 
\newtheorem*{note}{Nota} % * indica que no tiene contador
% Ejemplos, ejercicios
\theoremstyle{example-style}
\newtheorem{example}{Ejemplo}[section]
\newtheorem{exercise}{Ejercicio}[section]

%----------------------------------------------------------------------------------------
%	NUEVOS COMANDOS
%----------------------------------------------------------------------------------------

% Portada:
\newcommand{\titulo}{Título}  % Título del trabajo.
\newcommand{\fecha}{1 \ de \ Enero \ de \ 2015}                         % Fecha.
\newcommand{\asignatura}{Latex}                                         % Asignatura.
\newcommand{\autor}{Andrés Herrera Poyatos}                             % Autor.

%----------------------------------------------------------------------------------------
%	PORTADA 
%----------------------------------------------------------------------------------------

\title{                                             % Título
    \vspace{2in}
    \textmd{\textbf{\asignatura \\ \titulo}} \\         % - Nombre del trabajo
    \normalsize\vspace{0.1in}\small{\fecha}  \\         % - Fecha (Arriba) 
    \vspace{3in}
}

\author{\textbf{\autor}}                            % Autor
\date{}                                             % Fecha. Elija entre esta y la del título.

%----------------------------------------------------------------------------------------

\begin{document}

\maketitle

%----------------------------------------------------------------------------------------
%	ÍNDICE
%----------------------------------------------------------------------------------------

% Profundidad del Índice:
%\setcounter{tocdepth}{1}

\newpage
\tableofcontents
\newpage

%----------------------------------------------------------------------------------------
%	Problema
%----------------------------------------------------------------------------------------
\begin{section}{Fibonacci  GCD}

\begin{subsection}{Enunciado}
Fibonacci numbers have the following form: 


We have an array a1,a2,…,aN which contains N elements.


Input Format 
The first line contains N, where N denotes size of the array. 
Each of the next N lines contains a number: the ith line contains ai.

Output Format 
Print a single integer — the remainder of the division of the resulting number by 109+7.

Constraints 

\end{subsection}

    \begin{subsection}{Solución}
    
        \begin{proposition}
            Sean $n, k \in \mathbb{N}$. Se tiene que $F_{n+k} = F_{k-1}F_n + F_k F_{n+1}$. 
        \end{proposition}
        
        \begin{proof}
            La prueba se realiza por inducción sobre $k$ para un $n$ arbitrario en cada paso. Para $k=1$ es trivial denotando $F_0 = 0$. Supongamos el resultado cierto para $k \in \mathbb{N}$. 
            $$ F_{n+k+1} = F_{k-1}F_{n+1} + F_k F_{n+2} = F_{k-1}F_{n+1} + F_k (F_{n} + F_{n+1}) = F_{k}F_n + F_{k+1} F_{n+1} $$
            donde se ha utilizado en primer lugar la hipótesis de inducción para $k$ y posteriormente la definición de la sucesión dos veces.
        \end{proof}

        \begin{proposition}
            Sean $n, k \in \mathbb{N}$. Se tiene que $\gcd(F_n, F_{k+n}) = gcd(F_n, F_k)$. 
        \end{proposition}
    
        \begin{proof}
            En primer lugar: 
            $$ \gcd(F_n, F_{n+1}) = \gcd(F_{n}, F_{n}+F_{n-1}) = \gcd(F_{n}, F_{n-1}) $$
            donde se ha utilizado que $\gcd(a,b) = \gcd(a,b-qb)$ para cualquier $q$. Por inducción se llega a que 
            $$ \gcd(F_n, F_{n+1}) = \gcd(F_{1}, F_{2}) = \gcd(1,1) = 1 $$
            Luego los términos consecutivos de la sucesión de Fibonacci son primos relativos entre sí.
                        
            Ahora, para $k > 1$ usamos la proposición anterior:
            $$ \gcd(F_n, F_{n+k}) = \gcd(F_n, F_{k-1}F_n + F_k F_{n+1}) = \gcd(F_n, F_k F_{n+1}) $$
            Como $F_n$ y $F_{n+1}$ son primos relativos:
            $$ \gcd(F_n, F_{n+k}) = \gcd(F_n, F_k F_{n+1}) = \gcd(F_n, F_k) $$
            
        \end{proof}
        
        \begin{proposition}
            Sean $n, k \in \mathbb{N}$. Se tiene que $\gcd(F_n, F_{k+n}) = F_{gcd(n, k)}$. 
        \end{proposition}
        
        \begin{proposition}
            Sean $n \in \mathbb{N}$ y $a_1, \dots a_n \in \mathbb{N}$. Se tiene que 
            $\gcd(F_{a_1}, \dots, F_{a_n}) = F_{gcd(a_1, \dots, a_n)}$. 
        \end{proposition}

    
    \end{subsection}
    

\end{section}


\end{document}